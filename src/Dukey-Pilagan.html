<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>Dukey-Pilagan Family tree</title>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/treemap.js"></script>
    <script src="https://code.highcharts.com/modules/treegraph.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <style>
      * {
          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
          box-sizing: border-box;
      }

      html, body {
        margin: 0;
        padding: 1rem;
      }

      #container {
        height: 550rem;
        width: 300rem;
        -webkit-overflow-scrolling: touch;
        position: relative;
      }

      .highcharts-container {
        overflow: visible !important;
        touch-action: pan-x pan-y pinch-zoom !important;
      }

      .highcharts-description {
        font-style: italic;
      }

      .highcharts-description h2 {
        font-size: 1.5rem;
      }

      .highcharts-description p {
        font-size: 1.25rem;
      }

      tspan.husband {
        fill: red;
        color: red;
      }

      tspan.wife {
        fill: green;
        color: green;
      }
    </style>
  </head>
  <body>
    <div id="container">Loading...</div>
    <div class="highcharts-description">
      <h2>Who is Dukey Pilagan</h2>
      <p>
        - From Besao Mt. Province<br>
        - Occupation: Forestry<br>
        - Married to Bannadi/Bannagi<br>
        - Two son's Ignacio and Alvaro
      </p>
      <br><br>
      <h2>Why are there two family names, Dukey and Pilagan, in our family tree?</h2>
      <p>
        The two siblings, Ignacio (elder) and Alvaro (younger), chose to honor their father, Dukey Pilagan, by using parts of his name as their surnames. Ignacio took "Pilagan," while Alvaro chose "Dukey," as a way to remember and carry on their father's legacy when the government started requiring people to officially register their names.<br>
        They grew up near the Bulala-Leguey area and later moved to Gregorio del Pilar (Bussot-Concepcion) as they started their own families.
      </p>
    </div>

    <script>
      const data = [
        {
          id: 'A',
          name: `Dukey Pilagan <br> <span class="wife">Wife</span>: (Bannadi/Bannagi)`,
          branches: [
            {
              name: 'Ignacio Pilagan (Ignas)',
              branches: [
                {
                  name: '<span class="wife">First wife</span>: <br> Sabadia Pilagan',
                  branches: [
                    {
                      name: 'Marcus Pilagan <br> <span class="wife">Wife</span>: -',
                      branches: [
                        {
                          name: 'Nenita Pilagan - Ngayaan <br> <span class="husband">Husband</span>: Sidoro Ngayaan',
                          branches: [
                            {
                              name: 'Agnes Pilagan Ngayaan - Salbino <br> <span class="husband">Husband</span>: Romualdo Salbino'
                            },
                            {
                              name: 'Leticia Pilagan Ngayaan - Portem <br> <span class="husband">Husband</span>: Nolito Portem'
                            },
                            {
                              name: 'Juanito Pilagan Ngayaan <br> <span class="wife">Wife</span>: Norma Dang-alan'
                            },
                            {
                              name: 'Fidel Pilagan Ngayaan Sr. <br> <span class="wife">Wife</span>: Gina Maog',
                              branches: [
                                {
                                  name: 'June Rondel M. Ngayaan <br> <span class="wife">Wife</span>: Dara Paetan - Ngayaan',
                                  branches: [
                                    {
                                      name: 'Louise Amethyst Ngayaan'
                                    },
                                    {
                                      name: 'Jude Mar Ngayaan'
                                    }
                                  ]
                                },
                                {
                                  name: 'June Leonel M. Ngayaan'
                                },
                                {
                                  name: 'Fidel M. Ngayaan Jr.'
                                },
                                {
                                  name: 'Geofed Jhon M. Ngayaan'
                                },
                                {
                                  name: 'Jerico M. Ngayaan'
                                }
                              ]
                            }
                          ]
                        },
                        {
                          name: 'Puring Pilagan - Polides <br> <span class="husband">Husband</span>: -',
                          branches: [
                            {
                              name: 'Dominga Pilagan Polides - Pastrana <br> <span class="husband">Husband</span>: Bruce Pastrana Sr.',
                              branches: [
                                { name: 'Bruce P. Pastrana Jr.' },
                                { name: 'Richard P. Pastrana' },
                                {
                                  name: 'Arnel P. Pastrana <br> <span class="wife">Wife</span>: Michelle Tucdaden',
                                  branches: [
                                    { name: '-' },
                                  ]
                                }
                              ]
                            },
                            {
                              name: 'Jovy Pilagan Polides - Ciriaco <br> <span class="husband">Husband</span>: Juan Ciriaco',
                              branches: [
                                { name: 'Jonabelle Ciriaco - Dollente <br> <span class="husband">Husband</span>: Abel Dollente', branches: [] },
                                { name: 'Myrna Jonalyn P. Ciriaco' }
                              ]
                            },
                            {
                              name: 'Jaime Pilagan Polides <br> <span class="wife">Wife</span>: Julia Betit Polides',
                              branches: [
                                { name: 'Olivia Polides - Gawaen <br> <span class="husband">Husband: -</span>', branches: [] },
                                { name: 'Julie Polides - Dacay <br> <span class="husband">Husband: -</span>', branches: [] },
                                { name: 'Mildred Polides - Dumaliw <br> <span class="husband">Husband: -</span>', branches: [] },              
                                { name: 'Amy Polides - Arcita <br> <span class="husband">Husband: -</span>', branches: [] },
                                { name: 'Nida Polides - Apalet <br> <span class="husband">Husband: -</span>', branches: [] },
                                { name: 'Val B. Polides' },
                                { name: 'Vivian B. Polides' },
                              ]
                            },
                            {
                              name: 'Felimon Pilagan Polides <br> <span class="wife">Wife</span>: Remy Batori Polides',
                              branches: [
                                { name: 'Mariel B. Polides' },
                                { name: 'Lim B. Polides' },
                                { name: 'Jarislyn B. Polides' },
                                { name: 'Lhemar B. Polides' },
                              ]
                            },
                            {
                              name: 'Jun Pilagan Polides <br> <span class="wife">Wife</span>: -',
                              branches: [
                                { name: 'Joel P. Polides' },
                                { name: 'Jonalyn P. Polides' },
                              ]
                            },
                            {
                              name: 'Anaya Pilagan Polides - Segundo <br> <span class="husband">Husband</span>: Lyndon Segundo',
                              branches: [
                                { name: 'Ivana Dale P. Segundo' }
                              ]
                            },
                            {
                              name: 'Leonida Pilagan Polides - Soliman <br> <span class="husband">Husband</span>: Budz Soliman',
                              branches: [
                                { name: 'Marvin P. Soliman'},
                                { name: 'Georgy Mae P. Soliman'}
                              ]
                            },
                            {
                              name: 'Ermie Pilagan Polides - Aciong <br> <span class="husband">Husband</span>: Armando Aciong',
                              branches: []
                            },
                            {
                              name: 'Antonio Pilagan Polides'
                            }
                          ]
                        },
                        {
                          name: 'Enrique Pilagan <br> <span class="wife">Wife</span>: -',
                          branches: [
                            {
                              name: 'Joel Pilagan'
                            },
                            {
                              name: 'Janice Pilagan'
                            },
                            {
                              name: 'Crisanta Pilagan'
                            }
                          ]
                        },
                        { name: 'Victor Pilagan' }
                      ]
                    },
                    {
                      name: 'Eleuterio Pilagan (Terio) <br> <span class="wife">Wife</span>: -',
                      branches: [
                        {
                          name: 'Aida Pilagan - Dauzon <br> <span class="husband">Husband</span>: -',
                          branches: [
                            {
                              name: 'Adoracion D. Mata <br> <span class="husband">Husband</span>: -',
                              branches: [
                                {
                                  name: 'Mark Anthony D. Mata'
                                },
                                {
                                  name: 'Erwin D. Mata'
                                },
                                {
                                  name: 'Dandan D. Mata'
                                },
                                {
                                  name: 'Wilma D. Mata'
                                },
                                {
                                  name: 'Chato D. Mata'
                                },
                                {
                                  name: 'Jay-jay D. Mata'
                                }
                              ]
                            },
                            {
                              name: 'Zenaida D. Canzino <br> <span class="husband">Husband</span>: -',
                              branches: [
                                {
                                  name: 'Frema D. Canzino'
                                },
                                {
                                  name: 'Lenlen D. Canzino'
                                }
                              ]
                            },
                            {
                              name: 'Dominador P. Dauzon Jr.'
                            },
                            {
                              name: 'Marites Dauzon - Roque <br> <span class="husband">Husband</span>: -',
                              branches: []
                            },
                            {
                              name: 'Irene Dauzon - Luis <br> <span class="husband">Husband</span>: -',
                              branches: []
                            },
                            {
                              name: 'Johnny P. Dauzon'
                            },
                            {
                              name: 'Lisa P. Dauzon'
                            },
                            {
                              name: 'Joe P. Dauzon <br> <span class="wife">Wife</span>: -',
                              branches: []
                            },
                            {
                              name: 'Fibe P. Dauzon - Wanagen <br> <span class="husband">Husband</span>: -',
                              branches: []
                            },
                            {
                              name: 'Daisy P. Dauzon - Tamayo <br> <span class="husband">Husband</span>: -',
                              branches: []
                            }
                          ]
                        },
                        {
                          name: 'Arthur Baclayen Pilagan <br> <span class="wife">Wife</span>: Valentina Galangey Pattang',
                          branches: [
                            {
                              name: 'Arlene Pilagan - Oquingan <br> <span class="husband">Husband</span>: -',
                              branches: []
                            },
                            {
                              name: 'Melanie Pilagan - Ballester <br> <span class="husband">Husband</span>: -',
                              branches: []
                            },
                            {
                              name: 'Mary Anne Pilagan - Paslao <br> <span class="husband">Husband</span>: -',
                              branches: []
                            },
                            {
                              name: 'Arteshell Pilagan Dadnga-a <br> <span class="husband">Husband</span>: -',
                              branches: []
                            }
                          ]
                        },
                        {
                          name: 'Domingo Pilagan Sr. <br> <span class="wife">Wife</span>: -',
                          branches: [
                            {
                              name: 'Delia Pilagan'
                            },
                            {
                              name: 'Carol Pilagan'
                            },
                            {
                              name: 'Mario Pilagan'
                            },
                            {
                              name: 'Madonna Pilagan'
                            },
                            {
                              name: 'Maricel Pilagan'
                            },
                            {
                              name: 'Catherine Pilagan - Bal-iyang <br> <span class="husband">Husband</span>: -',
                              branches: []
                            },
                            {
                              name: 'Domingo Pilagan Jr.'
                            }
                          ]
                        },
                        {
                          name: 'Donato Pilagan Sr. <br> <span class="wife">Wife</span>: -',
                          branches: [
                            {
                              name: 'Michele Pilagan - Day-a <br> <span class="husband">Husband</span>: -',
                              branches: []
                            },
                            {
                              name: 'Jayson Pilagan'
                            },
                            {
                              name: 'Raquel Pilagan - Malaggan <br> <span class="husband">Husband</span>: -',
                              branches: []
                            },
                            {
                              name: 'Fema Pilagan - Padua',
                              branches: []
                            },
                            {
                              name: 'Monette Pilagan - Ledummeng <br> <span class="husband">Husband</span>: -',
                              branches: []
                            },
                            {
                              name: 'Jenny Pilagan - Tingey <br> <span class="husband">Husband</span>: -',
                              branches: []
                            },
                            {
                              name: 'Hover Pilagan'
                            },
                            {
                              name: 'Jinky Pilagan'
                            },
                            {
                              name: 'Donato Pilagan Jr.'
                            },
                            {
                              name: 'Melvin Pilagan'
                            },
                            {
                              name: 'Karen Pilagan'
                            }
                          ]
                        },
                        {
                          name: 'Crecensia Pilagan - Ubuan <br> <span class="husband">Husband</span>: -',
                          branches: [
                            {
                              name: 'Maribeth Ubuan - Resureccion <br> <span class="husband">Husband</span>: -',
                              branches: []
                            },
                            {
                              name: 'Aris Ubuan'
                            },
                            {
                              name: 'Janeth Ubuan - Daus <br> <span class="husband">Husband</span>: -',
                              branches: []
                            },
                            {
                              name: 'Aiza Ubuan - Compra <br> <span class="husband">Husband</span>: -',
                              branches: []
                            }
                          ]
                        },
                        {
                          name: 'Lelia Pilagan - Smith <br> <span class="husband">Husband</span>: -',
                          branches: [
                            {
                              name: 'Cristopher P. Smith'
                            }
                          ]
                        },
                        {
                          name: 'Julio Pilagan <br> <span class="wife">Wife</span>: -',
                          branches: [
                            {
                              name: 'John Michael Pilagan'
                            },
                            {
                              name: 'Jay-ar Pilagan'
                            },
                            {
                              name: 'Julius Pilagan'
                            },
                            {
                              name: 'Norman Pilagan'
                            },
                            {
                              name: 'John Patrick Pilagan'
                            }
                          ]
                        },
                        {
                          name: 'Marieta Pilagan - Liwan <br> <span class="husband">Husband</span>: -',
                          branches: [
                            {
                              name: 'Gilbert P. Liwan'
                            },
                            {
                              name: 'Janice P. Liwan'
                            },
                            {
                              name: 'Elias P. Liwan Jr.'
                            },
                            {
                              name: 'Beverly P. Liwan'
                            }
                          ]
                        },
                        {
                          name: 'Alfredo Pilagan <br> <span class="wife">Wife</span>: -',
                          branches: [
                            {
                              name: 'Alex Pilagan - Acosta <br> <span class="husband">Husband</span>: -'
                            },
                            {
                              name: 'Arnel Pilagan'
                            },
                            {
                              name: 'Arman Pilagan'
                            },
                            {
                              name: 'Jerome Pilagan'
                            }
                          ]
                        },
                        {
                          name: 'Margareta Pilagan - Comiles <br> <span class="husband">Husband</span>: -',
                          branches: [
                            {
                              name: 'Leneth P. Comiles'
                            },
                            {
                              name: 'Keiry Comiles - Pacio <br> <span class="husband">Husband</span>: Jessie Pacio'
                            },
                            {
                              name: 'Ryan P. Comiles'
                            },
                            {
                              name: 'Jumar P. Comiles'
                            },
                            {
                              name: 'Benjie P. Comiles'
                            },
                            {
                              name: 'Melo Jane P. Comiles'
                            }
                          ]
                        }
                      ]
                    },
                    {
                      name: 'Magdalena Pilagan - Pislaan <br> <span class="husband">Husband</span>: -',
                      branches: [
                        {
                          name: 'Josephina Pilagan Pislaan - Apalet <br> <span class="husband">Husband</span>: Cepherino Apalet',
                          branches: [
                            {
                              name: 'Henry P. Apalet'
                            },
                            {
                              name: 'Victor P. Apalet'
                            },
                            {
                              name: 'Cepherino P. Apalet Jr.'
                            },
                            {
                              name: 'Ariel P. Apalet'
                            },
                            {
                              name: 'Julie P. Apalet'
                            },
                            {
                              name: 'Lilibeth P. Apalet'
                            },
                            {
                              name: 'Michele P. Apalet'
                            },
                            {
                              name: 'Roy P. Apalet'
                            },
                            {
                              name: 'Rey P. Apalet'
                            }
                          ]
                        },
                        { name: 'Tessy Pilagan Pislaan' },
                        { name: 'Jaime Pilagan Pislaan' },
                        { name: 'Lito Pilagan Pislaan' }
                      ]
                    }
                  ]
                },
                {
                  name: '<span class="wife">Second wife</span>: <br> Sofia Awigan Pilagan (Basil)',
                  branches: [
                    {
                      name: 'Simplicio Pilagan (Ensiong) <br> <span class="wife">Wife</span>: Rosita Postin Pilagan (Rosing)',
                      branches: [
                        { name: 'Diego P. Pilagan' },
                        {
                          name: 'Peter P. Pilagan <br> <span class="wife">Wife</span>: Eliza Arellano Sunio',
                          branches: [
                            {
                              name: 'Lister S. Pilagan'
                            },
                            {
                              name: 'Steven S. Pilagan'
                            },
                            {
                              name: 'Liezel S. Pilagan - Barba <br> <span class="husband">Husband</span>: John Von Barba',
                              branches: [
                                {
                                  name: 'Zamira P. Barba'
                                },
                                {
                                  name: 'VJ P. Barba'
                                }
                              ]
                            },
                            {
                              name: 'Mcreigert S. Pilagan'
                            }
                          ]
                        },
                        { name: 'Virgilio P. Pilagan' },
                        {
                          name: 'Marilou P. Pilagan - Bigsot <br> <span class="husband">Husband</span>: Romeo Bigsot',
                          branches: [
                            {
                              name: 'Jerome S. Bigsot'
                            }
                          ]
                        },
                        {
                          name: 'Larry P. Pilagan <br> <span class="wife">Wife</span>: Corazon Caguay',
                          branches: [
                            {
                              name: 'Frankie C. Pilagan'
                            }
                          ]
                        },
                        {
                          name: 'Amy P. Pilagan - Jackson <br> <span class="husband">Husband</span>: Frank Jackson'
                        }
                      ]
                    },
                    {
                      name: 'Espiritu Pilagan (Espir) <br> <span class="wife">Wife</span>: Budao (Rosing)',
                      branches: [
                        {
                          name: 'Eulogio B. Pilagan Sr. <br> <span class="wife">Wife</span>: -',
                          branches: [
                            {
                              name: 'Emily Ruth B. Pilagan - Ebeng <br> <span class="husband">Husband</span>: -',
                              branches: [
                                {
                                  name: 'Krishna P. Ebeng'
                                },
                                {
                                  name: 'Tiara P. Ebeng'
                                },
                                {
                                  name: 'Kyle P. Ebeng'
                                }
                              ],
                              collapsed: false
                            },
                            {
                              name: 'Eden B. Pilagan - Feraldo <br> <span class="husband">Husband</span>: -',
                              branches: [
                                {
                                  name: 'Tyron P. Feraldo'
                                },
                                {
                                  name: 'Trixie P. Feraldo'
                                }
                              ]
                            },
                            {
                              name: 'Glenn Mark B. Pilagan'
                            },
                            {
                              name: 'Patrick Leo B. Pilagan'
                            },
                            {
                              name: 'Eulogio B. Pilagan Jr.'
                            }
                          ]
                        },
                        {
                          name: 'Florencio B. Pilagan <br> <span class="wife">Wife</span>: -',
                          branches: [
                            {
                              name: 'Mark Daniel T. Pilagan'
                            },
                            {
                              name: 'Krissah T. Pilagan'
                            },
                            {
                              name: 'Jay-Anne T. Pilagan'
                            },
                            {
                              name: 'Ezzer T. Pilagan'
                            },
                            {
                              name: 'Alexon T. Pilagan'
                            }
                          ]
                        },
                        {
                          name: 'Virgilio B. Pilagan <br> <span class="wife">Wife</span>: -',
                          branches: [
                            {
                              name: 'Vialyn B. Pilagan'
                            }
                          ]
                        }
                      ]
                    },
                    {
                      name: 'Pacita Pilagan Gannad (Pasing) <br> <span class="husband">Husband</span>: -',
                      branches: [
                        {
                          name: 'Julieta P. Gannad - Florida (Jean) <br> <span class="husband">Husband</span>: -',
                          branches: []
                        },
                        {
                          name: 'Josephine P. Gannad - Libranda (Josie)<br> <span class="husband">Husband</span>: -',
                          branches: []
                        },
                        {
                          name: 'Dorotea P. Gannad - Curba (Meldy)<br> <span class="husband">Husband</span>: -',
                          branches: []
                        },
                        {
                          name: 'Elizabeth P. Gannad - Sealongo (Sabbeth)<br> <span class="husband">Husband</span>: -',
                          branches: []
                        }
                      ]
                    },
                    {
                      name: 'Avelina Pilagan - Lumpangi - Arcardo (Belen) <br> <span class="husband">First husband</span>: - <br> <span class="husband">Second husband</span>: Domingo Arcardo',
                      branches: [
                        { name: 'Emily P. Lumpangi' },
                        {
                          name: 'Dionie P. Lumpangi <br> <span class="wife">Wife</span>: -',
                          branches: [
                            {
                              name: 'Spencer Rio Lockey Lumpangi'
                            },
                            {
                              name: 'Aliah Lockey Lumpangi'
                            }
                          ]
                        },
                        {
                          name: 'Leo P. Lumpangi <br> <span class="wife">Wife</span>: -',
                          branches: [
                            {
                              name: 'Hannah Lumpangi'
                            },
                            {
                              name: 'Harvelio Lumpangi'
                            }
                          ]
                        },
                        {
                          name: 'Giovanni P. Arcardo <br> <span class="wife">Wife</span>: -',
                          branches: []
                        },
                        {
                          name: 'Jay-anne P. Arcardo <br> <span class="husband">Husband</span>: -',
                          branches: []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              id: 'C',
              parent: 'A',
              name: 'Alvaro Dukey (Albalo) <br> <span class="wife">Wife</span>: -',
              branches: [
                {
                  name: 'Alfredo Dukey (Pidong) <br> <span class="wife">Wife</span>: -',
                  branches: [
                    { name: 'Ofelia Dukey - Vidal <br> <span class="husband">Husband</span>: -' },
                    { name: 'Medina Dukey - Guiao <br> <span class="husband">Husband</span>: -' }]
                },
                {
                  name: 'Arsenio Dukey (Senio) <br> <span class="wife">Wife</span>: -',
                  branches: [
                    {
                      name: 'Jaime Dukey <br> <span class="wife">Wife</span>: -',
                      branches: [
                        {
                          name: 'Elmer Dukey'
                        },
                        {
                          name: 'Elvira Dukey - Padsing'
                        },
                        {
                          name: 'Perla Dukey - Podes'
                        }
                      ]
                    },
                    {
                      name: 'Minda Dukey - Benamir <br> <span class="husband">Husband</span>: Noel Benamir',
                      branches: [
                        {
                          name: 'Michael D. Benamir'
                        },
                        {
                          name: 'Merylyn D. Benamir - Castro <br> <span class="husband">Husband</span>: -',
                          branches: []
                        },
                        {
                          name: 'Mirvin D. Benamir <br> <span class="wife">Wife</span>: -',
                          branches: []
                        },
                        {
                          name: 'Milyn D. Benamir'
                        },
                        {
                          name: 'Mayeth D. Benamir - Belen <br> <span class="husband">Husband</span>: -',
                          branches: []
                        },
                        {
                          name: 'Menard D. Benamir'
                        },
                        {
                          name: '(Balassit) D. Benamir'
                        }
                      ]
                    },
                    {
                      name: 'Veirnessa Dukey - Fabian <br> <span class="husband">Husband</span>: -',
                      branches: [
                        {
                          name: 'Marisel D. Fabian'
                        },
                        {
                          name: 'Marcelino D. Fabian Jr.'
                        },
                        {
                          name: 'Richard D. Fabian'
                        }
                      ]
                    },
                    {
                      name: 'Lucia Dukey - Rey <br> <span class="husband">Husband</span>: -',
                      branches: [
                        {
                          name: 'Ranie D. Rey'
                        },
                        {
                          name: 'Rachele D. Rey'
                        },
                        {
                          name: '(Kalbo) D. Rey'
                        },
                        {
                          name: 'Reina D. Rey'
                        }
                      ]
                    },
                    {
                      name: 'Mileth Dukey - Gilo <br> <span class="husband">Husband</span>: Nestor Gilo',
                      branches: [
                        {
                          name: 'Rovincent D. Gilo'
                        },
                        {
                          name: 'Chrysler D. Gilo'
                        },
                        {
                          name: 'Salma D. Gilo'
                        },
                        {
                          name: 'Minea D. Gilo'
                        }
                      ]
                    },
                    {
                      name: 'Rico Dukey'
                    },
                    {
                      name: 'Jun Dukey <br> <span class="wife">Wife</span>: -',
                      branches: [
                        {
                          name: 'Marivic Dukey'
                        },
                        {
                          name: 'Marian Dukey'
                        },
                        {
                          name: 'Martin Dukey'
                        },
                        {
                          name: 'Yannah Dukey'
                        },
                        {
                          name: '-'
                        },
                        {
                          name: '-'
                        }
                      ],
                      collapsed: false
                    },
                    {
                      name: 'Dante Dukey <br> <span class="wife">Wife</span>: -',
                      branches: [
                        {
                          name: 'Lyra Dukey'
                        }
                      ]
                    },
                    {
                      name: 'Jumar Dukey <br> <span class="wife">Wife</span>: -',
                      branches: [
                        {
                          name: 'Ajay Dukey'
                        },
                        {
                          name: 'Ashly Dukey'
                        }
                      ]
                    }
                  ]
                },
                {
                  name: 'Ragsak Dukey <br> <span class="wife">Wife</span>: Maria Dukey',
                  branches: [
                    { name: 'Rag-o Dukey' },
                    { name: 'Jimmy Dukey' },
                    {
                      name: 'Cathy Dukey - Lucenario <br> <span class="husband">Husband</span>: -'
                    },
                    { name: 'Renato Dukey' },
                    { name: 'Vicente Dukey' },
                    {
                      name: 'Ruby Dukey - Lingbaoan <br> <span class="husband">Husband</span>: -'
                    },
                    {
                      name: 'Berneth Dukey - Ubuan <br> <span class="husband">Husband</span>: -'
                    },
                    { name: 'Severo Dukey' },
                    { name: 'Mary Ann Dukey' },
                    { name: 'Mike Dukey' },
                    { name: 'Ragmar Dukey' },
                    { name: 'Reymar Dukey' }
                  ]
                },
                {
                  name: 'Narcisa Dukey Bang-a <br> <span class="husband">Husband</span>: -'
                },
                {
                  name: 'Salvador Cortez <br> <span class="wife">Wife</span>: -',
                  branches: [
                    {
                      name: '-'
                    },
                    {
                      name: '-'
                    },
                    {
                      name: '-'
                    },
                    {
                      name: '-'
                    },
                    {
                      name: '-'
                    }
                  ]
                },
                {
                  name: 'Jovita Dukey - Camide <br> <span class="husband">Husband</span>: -',
                  branches: [
                    {
                      name: 'Norma D. Camide - Ramirez <br> <span class="husband">Husband</span>: -',
                      branches: []
                    },
                    { name: 'Eldemio D. Camide' },
                    {
                      name: 'Elma D. Camide - Daodaoen <br> <span class="husband">Husband</span>: -',
                      branches: []
                    },
                    { name: 'Erik D. Camide' }
                  ]
                }
              ]
            }
          ]
        }
      ]

      const flattenedData = function () {
        /**
         * each items in branch add properties
         * - id - the parent object ID as suffix
         * - parent - the parent object ID
         */
        const newData = data.map((item) => {
          let counter = 1
          const result = []

          function processBranches(item, parentId = null) {
            // Create node with all existing properties
            const node = { ...item }

            /**
             * update/add id and parent
             * Remove branches property as it's not needed in flattened structure
             */
            node.id = item.id || `node${counter++}`
            delete node.branches
            if (parentId) node.parent = parentId

            result.push(node)

            /**
             * reverse the order of branches
             * Process branches recursively
             */
            if (item.branches) {
              item.branches.reverse().forEach((branch) => {
                processBranches(branch, node.id)
              })
            }
          }

          // Start processing from root data
          data.forEach((item) => {
            processBranches(item)
          })

          return result
        })

        return newData[0]
      }

      Highcharts.chart('container', {
        chart: {
          inverted: false,
          spacingBottom: 30,
          marginRight: 600,
          panning: true,
          panKey: 'shift',
          zoomType: 'xy',
          events: {
            load: function() {
              setTimeout(() => {
                const title = document.getElementsByClassName('highcharts-title')[0]
                if (title) {
                  title.scrollIntoView({ 
                    behavior: 'instant',
                    inline: 'center',
                    block: 'center'
                  })
                }
              }, 300)
            }
          }
        },
        title: {
          text: 'Dukey-Pilagan Family Tree',
          style: {
            fontSize: '2.5rem',
            fontWeight: 'bold',
            textDecoration: 'underline',
            marginBottom: '2rem'
          }
        },
        series: [
          {
            type: 'treegraph',
            data: flattenedData(),
            marker: {
              symbol: 'circle',
              radius: 6,
              fillColor: '#ffffff',
              lineWidth: 3
            },
            link: {
              lineWidth: 2,
              color: '#333'
            },
            dataLabels: {
              align: 'left',
              pointFormat: '{point.name}',
              style: {
                color: '#000000',
                textOutline: '2px #ffffff',
                paddingLeft: 15,
                paddingRight: 15,
                whiteSpace: 'nowrap',
                fontSize: '19px'
              },
              x: 24,
              crop: false,
              overflow: 'none'
            },
            levels: [
              {
                level: 1,
                marker: {
                  fillColor: 'green'
                }
              }
            ],
            colorByPoint: true,
          }
        ]
      })
    </script>
  </body>
</html>
